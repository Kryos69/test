-- // Neptune UI Library - Easy Element Creation System \\ --
-- // Created by vFishy / xn90ubwbzuqegtn \\ --

local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- // Utility Functions

function createInstance(className, properties)
	local instance = Instance.new(className)
	for k, v in pairs(properties) do
		if typeof(k) ~= 'string' then
			continue
		end
		instance[k] = v
	end
	return instance
end

local function makeDraggable(frame, dragHandle)
	local dragging = false
	local dragInput, mousePos, framePos

	dragHandle = dragHandle or frame

	dragHandle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			mousePos = input.Position
			framePos = frame.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	dragHandle.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - mousePos
			frame.Position = UDim2.new(
				framePos.X.Scale,
				framePos.X.Offset + delta.X,
				framePos.Y.Scale,
				framePos.Y.Offset + delta.Y
			)
		end
	end)
end

local function createTween(object, goal, duration)
	duration = duration or 0.3
	local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	local tween = TweenService:Create(object, tweenInfo, goal)
	return tween
end

-- // Main Library

local Library = {}
Library.Tabs = {}
Library.CurrentTab = nil

-- // Initialize GUI

local Neptune = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
Neptune.Name = "Neptune"
Neptune.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Neptune.ResetOnSpawn = false

local Holder = createInstance("Frame", {
	Name = "Holder",
	Position = UDim2.new(0.5, 0, 0.5, 0),
	Size = UDim2.new(0, 822, 0, 599),
	Parent = Neptune,
	BackgroundTransparency = 1,
	AnchorPoint = Vector2.new(0.5, 0.5),
	BorderSizePixel = 0,
	ZIndex = 1
})

local Background = createInstance("ImageLabel", {
	Name = "Background",
	Position = UDim2.new(0.549, 0, 0.438, 0),
	Size = UDim2.new(0, 926, 0, 656),
	Parent = Holder,
	BackgroundTransparency = 1,
	AnchorPoint = Vector2.new(0.5, 0.5),
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	ImageColor3 = Color3.fromRGB(255, 255, 255),
	Image = "rbxassetid://89808568475809",
	BorderSizePixel = 0,
	ZIndex = 1
})

makeDraggable(Holder, Background)

local Logo = createInstance("ImageLabel", {
	Name = "Logo",
	Position = UDim2.new(0, 0, 0.008, 0),
	Size = UDim2.new(0, 57, 0, 58),
	Parent = Background,
	BackgroundTransparency = 1,
	Image = "rbxassetid://71700758864501",
	BorderSizePixel = 0,
	ZIndex = 1
})

local TabHolder = createInstance("Frame", {
	Name = "TabHolder",
	Position = UDim2.new(0, 0, 0.097, 0),
	Size = UDim2.new(0, 197, 0, 464),
	Parent = Background,
	BackgroundTransparency = 1,
	BorderSizePixel = 0,
	ZIndex = 1
})

local UIListLayout = createInstance("UIListLayout", {
	Parent = TabHolder,
	Padding = UDim.new(0, 15),
	FillDirection = Enum.FillDirection.Vertical,
	HorizontalAlignment = Enum.HorizontalAlignment.Left,
	VerticalAlignment = Enum.VerticalAlignment.Top,
	SortOrder = Enum.SortOrder.LayoutOrder
})

createInstance("UIPadding", {
	Parent = TabHolder,
	PaddingTop = UDim.new(0, 15),
	PaddingLeft = UDim.new(0, 25)
})

local TabContent = createInstance("Frame", {
	Name = "TabContent",
	Position = UDim2.new(0.209, 0, 0.096, 0),
	Size = UDim2.new(0, 732, 0, 592),
	Parent = Background,
	BackgroundTransparency = 1,
	BorderSizePixel = 0,
	ZIndex = 1
})

local Scroll = createInstance("ScrollingFrame", {
	Name = "Scroll",
	Position = UDim2.new(0, 0, 0, 0),
	Size = UDim2.new(0, 732, 0, 592),
	Parent = TabContent,
	BackgroundTransparency = 1,
	ScrollBarThickness = 5,
	ScrollBarImageColor3 = Color3.fromRGB(69, 94, 255),
	CanvasSize = UDim2.new(0, 0, 0, 0),
	BorderSizePixel = 0,
	ZIndex = 1
})

createInstance("UIPadding", {
	Parent = Scroll,
	PaddingLeft = UDim.new(0, 15),
	PaddingTop = UDim.new(0, 15)
})

local ScrollLayout = createInstance("UIListLayout", {
	Parent = Scroll,
	Padding = UDim.new(0, 15),
	FillDirection = Enum.FillDirection.Vertical,
	HorizontalAlignment = Enum.HorizontalAlignment.Left,
	VerticalAlignment = Enum.VerticalAlignment.Top,
	SortOrder = Enum.SortOrder.LayoutOrder
})

ScrollLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	Scroll.CanvasSize = UDim2.new(0, 0, 0, ScrollLayout.AbsoluteContentSize.Y + 30)
end)

-- Player Info
local PlayerHolder = createInstance("ImageLabel", {
	Name = "PlayerHolder",
	Position = UDim2.new(0, 0, 0.880, 0),
	Size = UDim2.new(0, 175, 0, 78),
	Parent = Background,
	BackgroundTransparency = 1,
	Image = "rbxassetid://106984070957277",
	BorderSizePixel = 0,
	ZIndex = 4
})

local PlayerIcon = createInstance("ImageLabel", {
	Name = "Player",
	Position = UDim2.new(0.143, 0, 0.265, 0),
	Size = UDim2.new(0, 35, 0, 35),
	Parent = PlayerHolder,
	BackgroundTransparency = 1,
	Image = "rbxasset://textures/ui/GuiImagePlaceholder.png",
	BorderSizePixel = 0,
	ZIndex = 4
})

local userId = LocalPlayer.UserId
local thumbType = Enum.ThumbnailType.HeadShot
local thumbSize = Enum.ThumbnailSize.Size48x48
pcall(function()
	local content = Players:GetUserThumbnailAsync(userId, thumbType, thumbSize)
	PlayerIcon.Image = content
end)

createInstance("UICorner", {
	Parent = PlayerIcon,
	CornerRadius = UDim.new(1, 0)
})

createInstance("TextLabel", {
	Name = "Username",
	Position = UDim2.new(0.343, 0, 0.167, 0),
	Size = UDim2.new(0, 111, 0, 36),
	Parent = PlayerHolder,
	BackgroundTransparency = 1,
	Font = Enum.Font.GothamMedium,
	Text = LocalPlayer.Name,
	TextSize = 14,
	TextXAlignment = Enum.TextXAlignment.Center,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	BorderSizePixel = 0,
	ZIndex = 4
})

createInstance("TextLabel", {
	Name = "Expire",
	Position = UDim2.new(0.343, 0, 0.526, 0),
	Size = UDim2.new(0, 111, 0, 14),
	Parent = PlayerHolder,
	BackgroundTransparency = 1,
	Font = Enum.Font.Gotham,
	Text = 'Premium User',
	TextSize = 10,
	TextXAlignment = Enum.TextXAlignment.Center,
	TextColor3 = Color3.fromRGB(94, 94, 94),
	BorderSizePixel = 0,
	ZIndex = 4
})

-- Close Button
local CloseButton = createInstance("TextButton", {
	Position = UDim2.new(0.944, 0, 0.030, 0),
	Size = UDim2.new(0, 30, 0, 30),
	Parent = Background,
	BackgroundColor3 = Color3.fromRGB(255, 50, 50),
	Font = Enum.Font.GothamBold,
	Text = "X",
	TextSize = 16,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	BorderSizePixel = 0,
	ZIndex = 10
})

createInstance("UICorner", {
	Parent = CloseButton,
	CornerRadius = UDim.new(0, 5)
})

CloseButton.MouseButton1Click:Connect(function()
	Neptune:Destroy()
end)

-- // Color Picker System

local ColorPickerFrame = createInstance("Frame", {
	Name = "BackgroundColorP",
	Position = UDim2.new(1.073, 0, 0.038, 0),
	Size = UDim2.new(0, 290, 0, 299),
	Parent = Background,
	BackgroundColor3 = Color3.fromRGB(25, 25, 28),
	BorderSizePixel = 0,
	Visible = false,
	ZIndex = 100
})

createInstance("UICorner", {
	Parent = ColorPickerFrame,
	CornerRadius = UDim.new(0, 5)
})

local Colorview = createInstance("Frame", {
	Name = "Colorview",
	Position = UDim2.new(0.077, 0, 0.082, 0),
	Size = UDim2.new(0, 245, 0, 201),
	Parent = ColorPickerFrame,
	BackgroundColor3 = Color3.fromRGB(255, 0, 0),
	BorderSizePixel = 0,
	ZIndex = 101
})

createInstance("UICorner", {
	Parent = Colorview,
	CornerRadius = UDim.new(0, 5)
})

local ColorviewWhite = createInstance("Frame", {
	Size = UDim2.new(1, 0, 1, 0),
	Parent = Colorview,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	BackgroundTransparency = 0,
	BorderSizePixel = 0,
	ZIndex = 102
})

createInstance("UICorner", {
	Parent = ColorviewWhite,
	CornerRadius = UDim.new(0, 5)
})

local ColorviewWhiteGradient = createInstance("UIGradient", {
	Parent = ColorviewWhite,
	Color = ColorSequence.new(Color3.fromRGB(255, 255, 255), Color3.fromRGB(255, 255, 255)),
	Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
})

local ColorviewBlack = createInstance("Frame", {
	Size = UDim2.new(1, 0, 1, 0),
	Parent = Colorview,
	BackgroundColor3 = Color3.fromRGB(0, 0, 0),
	BackgroundTransparency = 1,
	BorderSizePixel = 0,
	ZIndex = 103
})

createInstance("UICorner", {
	Parent = ColorviewBlack,
	CornerRadius = UDim.new(0, 5)
})

local ColorviewBlackGradient = createInstance("UIGradient", {
	Parent = ColorviewBlack,
	Color = ColorSequence.new(Color3.fromRGB(0, 0, 0), Color3.fromRGB(0, 0, 0)),
	Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 1),
		NumberSequenceKeypoint.new(1, 0)
	}),
	Rotation = 90
})

local ColorSelector = createInstance("TextButton", {
	Name = "ColorSelector",
	Position = UDim2.new(0.5, 0, 0.5, 0),
	Size = UDim2.new(0, 10, 0, 10),
	AnchorPoint = Vector2.new(0.5, 0.5),
	Parent = Colorview,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	BorderSizePixel = 2,
	BorderColor3 = Color3.fromRGB(0, 0, 0),
	Text = "",
	ZIndex = 104
})

createInstance("UICorner", {
	Parent = ColorSelector,
	CornerRadius = UDim.new(1, 0)
})

local HueBar = createInstance("Frame", {
	Name = "Bar1",
	Position = UDim2.new(0.128, 0, 0.810, 0),
	Size = UDim2.new(0, 212, 0, 14),
	Parent = ColorPickerFrame,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	BorderSizePixel = 0,
	ZIndex = 101
})

createInstance("UICorner", {
	Parent = HueBar,
	CornerRadius = UDim.new(0, 5)
})

local HueGradient = createInstance("UIGradient", {
	Parent = HueBar,
	Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
		ColorSequenceKeypoint.new(0.17, Color3.fromRGB(255, 255, 0)),
		ColorSequenceKeypoint.new(0.33, Color3.fromRGB(0, 255, 0)),
		ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 255)),
		ColorSequenceKeypoint.new(0.67, Color3.fromRGB(0, 0, 255)),
		ColorSequenceKeypoint.new(0.83, Color3.fromRGB(255, 0, 255)),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))
	})
})

local HueDragger = createInstance("TextButton", {
	Name = "HueDragger",
	Position = UDim2.new(0, 0, 0.5, 0),
	Size = UDim2.new(0, 10, 0, 25),
	AnchorPoint = Vector2.new(0.5, 0.5),
	Parent = HueBar,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	Text = '',
	BorderSizePixel = 0,
	ZIndex = 102
})

createInstance("UICorner", {
	Parent = HueDragger,
	CornerRadius = UDim.new(0, 5)
})

local AlphaBar = createInstance("Frame", {
	Name = "Bar2",
	Position = UDim2.new(0.128, 0, 0.907, 0),
	Size = UDim2.new(0, 212, 0, 14),
	Parent = ColorPickerFrame,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	BorderSizePixel = 0,
	ZIndex = 101
})

createInstance("UICorner", {
	Parent = AlphaBar,
	CornerRadius = UDim.new(0, 5)
})

local AlphaGradient = createInstance("UIGradient", {
	Parent = AlphaBar,
	Color = ColorSequence.new(Color3.fromRGB(255, 0, 0), Color3.fromRGB(255, 0, 0)),
	Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 1),
		NumberSequenceKeypoint.new(1, 0)
	})
})

local AlphaDragger = createInstance("TextButton", {
	Name = "AlphaDragger",
	Position = UDim2.new(1, 0, 0.5, 0),
	Size = UDim2.new(0, 10, 0, 25),
	AnchorPoint = Vector2.new(0.5, 0.5),
	Parent = AlphaBar,
	BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	Text = '',
	BorderSizePixel = 0,
	ZIndex = 102
})

createInstance("UICorner", {
	Parent = AlphaDragger,
	CornerRadius = UDim.new(0, 5)
})

-- Color Picker Logic
local currentHue = 0
local currentSat = 1
local currentVal = 1
local currentAlpha = 1
local currentCallback = nil

local function updateColorFromHSV()
	local hue = currentHue
	local sat = currentSat
	local val = currentVal
	
	local c = val * sat
	local x = c * (1 - math.abs((hue / 60) % 2 - 1))
	local m = val - c
	
	local r, g, b
	if hue < 60 then
		r, g, b = c, x, 0
	elseif hue < 120 then
		r, g, b = x, c, 0
	elseif hue < 180 then
		r, g, b = 0, c, x
	elseif hue < 240 then
		r, g, b = 0, x, c
	elseif hue < 300 then
		r, g, b = x, 0, c
	else
		r, g, b = c, 0, x
	end
	
	local color = Color3.new(r + m, g + m, b + m)
	
	if currentCallback then
		currentCallback(color)
	end
	
	AlphaGradient.Color = ColorSequence.new(color, color)
	
	return color
end

local draggingColor = false
ColorSelector.MouseButton1Down:Connect(function()
	draggingColor = true
end)

UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingColor = false
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if draggingColor and input.UserInputType == Enum.UserInputType.MouseMovement then
		local mousePos = UserInputService:GetMouseLocation()
		local relativeX = math.clamp((mousePos.X - Colorview.AbsolutePosition.X) / Colorview.AbsoluteSize.X, 0, 1)
		local relativeY = math.clamp((mousePos.Y - Colorview.AbsolutePosition.Y) / Colorview.AbsoluteSize.Y, 0, 1)
		
		currentSat = relativeX
		currentVal = 1 - relativeY
		
		ColorSelector.Position = UDim2.new(relativeX, 0, relativeY, 0)
		updateColorFromHSV()
	end
end)

local draggingHue = false
HueDragger.MouseButton1Down:Connect(function()
	draggingHue = true
end)

UserInputService.InputChanged:Connect(function(input)
	if draggingHue and input.UserInputType == Enum.UserInputType.MouseMovement then
		local mousePos = UserInputService:GetMouseLocation()
		local relativePos = math.clamp((mousePos.X - HueBar.AbsolutePosition.X) / HueBar.AbsoluteSize.X, 0, 1)
		
		currentHue = relativePos * 360
		HueDragger.Position = UDim2.new(relativePos, 0, 0.5, 0)
		
		local hueColor = Color3.fromHSV(relativePos, 1, 1)
		Colorview.BackgroundColor3 = hueColor
		
		updateColorFromHSV()
	end
end)

-- // Notification System

function Library:Notify(options)
	local notifType = options.Type or "Notification" -- "Error", "Success", "Warning", "Notification"
	local title = options.Title or "Notification"
	local description = options.Description or ""
	local duration = options.Duration or 3
	
	local icons = {
		Error = "rbxassetid://94165803738519",
		Success = "rbxassetid://123509293785756",
		Warning = "rbxassetid://94165803738519",
		Notification = ""
	}
	
	local colors = {
		Error = Color3.fromRGB(239, 68, 68),
		Success = Color3.fromRGB(34, 197, 94),
		Warning = Color3.fromRGB(255, 213, 79),
		Notification = Color3.fromRGB(69, 94, 255)
	}
	
	local notif = createInstance("Frame", {
		Name = "Notification",
		Position = UDim2.new(0.85, 0, 1.2, 0),
		Size = UDim2.new(0, 252, 0, 128),
		Parent = Neptune,
		BackgroundColor3 = Color3.fromRGB(25, 25, 28),
		BorderSizePixel = 0,
		ZIndex = 200
	})
	
	createInstance("UICorner", {
		Parent = notif,
		CornerRadius = UDim.new(0, 5)
	})
	
	local titleLabel = createInstance("TextLabel", {
		Name = "Title",
		Position = UDim2.new(0.179, 0, 0, 0),
		Size = UDim2.new(0, 207, 0, 37),
		Parent = notif,
		BackgroundTransparency = 1,
		Font = Enum.Font.GothamBold,
		Text = title,
		TextSize = 16,
		TextXAlignment = Enum.TextXAlignment.Left,
		TextYAlignment = Enum.TextYAlignment.Center,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		BorderSizePixel = 0,
		ZIndex = 201
	})
	
	createInstance("Frame", {
		Name = "Line",
		Position = UDim2.new(0, 0, 0.300, 0),
		Size = UDim2.new(0, 251, 0, 2),
		Parent = notif,
		BackgroundColor3 = Color3.fromRGB(29, 29, 29),
		BorderSizePixel = 0,
		ZIndex = 201
	})
	
	createInstance("TextLabel", {
		Name = "Description",
		Position = UDim2.new(0.067, 0, 0.352, 0),
		Size = UDim2.new(0, 217, 0, 43),
		Parent = notif,
		BackgroundTransparency = 1,
		Font = Enum.Font.Gotham,
		Text = description,
		TextSize = 12,
		TextXAlignment = Enum.TextXAlignment.Center,
		TextYAlignment = Enum.TextYAlignment.Center,
		TextWrapped = true,
		TextColor3 = Color3.fromRGB(180, 180, 180),
		BorderSizePixel = 0,
		ZIndex = 201
	})
	
	if icons[notifType] and icons[notifType] ~= "" then
		createInstance("ImageLabel", {
			Name = "Icon",
			Position = UDim2.new(0.038, 0, 0.069, 0),
			Size = UDim2.new(0, 20, 0, 20),
			Parent = notif,
			BackgroundTransparency = 1,
			ImageColor3 = Color3.fromRGB(255, 255, 255),
			Image = icons[notifType],
			BorderSizePixel = 0,
			ZIndex = 202
		})
	end
	
	local bar = createInstance("Frame", {
		Name = "Bar",
		Position = UDim2.new(0.038, 0, 0.794, 0),
		Size = UDim2.new(0, 231, 0, 10),
		Parent = notif,
		BackgroundColor3 = colors[notifType],
		BorderSizePixel = 0,
		ZIndex = 201
	})
	
	createInstance("UICorner", {
		Parent = bar,
		CornerRadius = UDim.new(0, 5)
	})
	
	-- Animate in
	createTween(notif, {Position = UDim2.new(0.85, 0, 0.85, 0)}, 0.5):Play()
	
	-- Animate bar
	task.spawn(function()
		createTween(bar, {Size = UDim2.new(0, 0, 0, 10)}, duration):Play()
		task.wait(duration)
		createTween(notif, {Position = UDim2.new(0.85, 0, 1.2, 0)}, 0.5):Play()
		task.wait(0.5)
		notif:Destroy()
	end)
end

-- // Tab System

function Library:CreateTab(name)
	local Tab = {}
	Tab.Name = name
	Tab.Cards = {}
	
	-- Create tab button
	local tabButton = createInstance("TextButton", {
		Name = "TabButton",
		Size = UDim2.new(0, 133, 0, 38),
		Parent = TabHolder,
		Font = Enum.Font.GothamMedium,
		Text = name,
		TextSize = 15,
		TextXAlignment = Enum.TextXAlignment.Center,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		BackgroundColor3 = Color3.fromRGB(25, 25, 28),
		BorderSizePixel = 0,
		ZIndex = 1
	})
	
	createInstance("UICorner", {
		Parent = tabButton,
		CornerRadius = UDim.new(0, 3)
	})
	
	-- Create tab content container
	local tabContainer = createInstance("Frame", {
		Name = name .. "Container",
		Size = UDim2.new(1, 0, 1, 0),
		Parent = Scroll,
		BackgroundTransparency = 1,
		Visible = false,
		BorderSizePixel = 0
	})
	
	local tabLayout = createInstance("UIListLayout", {
		Parent = tabContainer,
		Padding = UDim.new(0, 15),
		FillDirection = Enum.FillDirection.Vertical,
		HorizontalAlignment = Enum.HorizontalAlignment.Left,
		VerticalAlignment = Enum.VerticalAlignment.Top,
		SortOrder = Enum.SortOrder.LayoutOrder
	})
	
	tabLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		Scroll.CanvasSize = UDim2.new(0, 0, 0, tabLayout.AbsoluteContentSize.Y + 30)
	end)
	
	Tab.Container = tabContainer
	Tab.Button = tabButton
	
	-- Tab switching
	tabButton.MouseButton1Click:Connect(function()
		for _, otherTab in pairs(Library.Tabs) do
			otherTab.Container.Visible = false
			otherTab.Button.BackgroundColor3 = Color3.fromRGB(25, 25, 28)
		end
		
		tabContainer.Visible = true
		tabButton.BackgroundColor3 = Color3.fromRGB(69, 94, 255)
		Library.CurrentTab = Tab
	end)
	
	-- Hover effects
	tabButton.MouseEnter:Connect(function()
		if Library.CurrentTab ~= Tab then
			createTween(tabButton, {BackgroundColor3 = Color3.fromRGB(35, 35, 38)}, 0.2):Play()
		end
	end)
	
	tabButton.MouseLeave:Connect(function()
		if Library.CurrentTab ~= Tab then
			createTween(tabButton, {BackgroundColor3 = Color3.fromRGB(25, 25, 28)}, 0.2):Play()
		end
	end)
	
	-- If first tab, make it active
	if #Library.Tabs == 0 then
		tabContainer.Visible = true
		tabButton.BackgroundColor3 = Color3.fromRGB(69, 94, 255)
		Library.CurrentTab = Tab
	end
	
	table.insert(Library.Tabs, Tab)
	
	-- // Card Creation
	
	function Tab:CreateCard(name)
		local Card = {}
		Card.Name = name
		Card.Elements = {}
		
		local cardFrame = createInstance("Frame", {
			Name = name,
			Size = UDim2.new(0, 327, 0, 100),
			Parent = tabContainer,
			BackgroundColor3 = Color3.fromRGB(21, 21, 23),
			BorderSizePixel = 0,
			ZIndex = 1
		})
		
		createInstance("UICorner", {
			Parent = cardFrame,
			CornerRadius = UDim.new(0, 4)
		})
		
		local header = createInstance("ImageLabel", {
			Name = "Header",
			Size = UDim2.new(0, 327, 0, 48),
			Parent = cardFrame,
			BackgroundTransparency = 1,
			Image = "rbxassetid://114111795744048",
			BorderSizePixel = 0,
			ZIndex = 1
		})
		
		createInstance("TextLabel", {
			Name = "Title",
			Position = UDim2.new(0.055, 0, 0.150, 0),
			Size = UDim2.new(0, 309, 0, 32),
			Parent = header,
			BackgroundTransparency = 1,
			Font = Enum.Font.GothamMedium,
			Text = name,
			TextSize = 15,
			TextXAlignment = Enum.TextXAlignment.Left,
			TextYAlignment = Enum.TextYAlignment.Center,
			TextColor3 = Color3.fromRGB(255, 255, 255),
			BorderSizePixel = 0,
			ZIndex = 1
		})
		
		local mainHolder = createInstance("ScrollingFrame", {
			Name = "MainHolder",
			Position = UDim2.new(0, 0, 0, 48),
			Size = UDim2.new(0, 323, 0, 50),
			Parent = cardFrame,
			BackgroundTransparency = 1,
			ScrollBarThickness = 5,
			ScrollBarImageColor3 = Color3.fromRGB(69, 94, 255),
			CanvasSize = UDim2.new(0, 0, 0, 0),
			BorderSizePixel = 0,
			ZIndex = 1
		})
		
		local holderLayout = createInstance("UIListLayout", {
			Parent = mainHolder,
			Padding = UDim.new(0, 8),
			FillDirection = Enum.FillDirection.Vertical,
			HorizontalAlignment = Enum.HorizontalAlignment.Left,
			VerticalAlignment = Enum.VerticalAlignment.Top,
			SortOrder = Enum.SortOrder.LayoutOrder
		})
		
		createInstance("UIPadding", {
			Parent = mainHolder,
			PaddingTop = UDim.new(0, 10),
			PaddingLeft = UDim.new(0, 10)
		})
		
		holderLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			local contentHeight = holderLayout.AbsoluteContentSize.Y + 20
			mainHolder.CanvasSize = UDim2.new(0, 0, 0, contentHeight)
			cardFrame.Size = UDim2.new(0, 327, 0, math.min(contentHeight + 58, 400))
			mainHolder.Size = UDim2.new(0, 323, 0, math.min(contentHeight, 350))
		end)
		
		Card.Frame = cardFrame
		Card.Holder = mainHolder
		
		-- // Element Creation Methods
		
		function Card:AddToggle(options)
			local name = options.Name or "Toggle"
			local default = options.Default or false
			local callback = options.Callback or function() end
			
			local frame = createInstance("Frame", {
				Name = "Toggle",
				Size = UDim2.new(0, 300, 0, 36),
				Parent = mainHolder,
				BackgroundTransparency = 1,
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local toggle = createInstance("TextButton", {
				Position = UDim2.new(0.086, 0, 0.139, 0),
				Size = UDim2.new(0, 25, 0, 25),
				Parent = frame,
				Text = '',
				BackgroundColor3 = default and Color3.fromRGB(69, 94, 255) or Color3.fromRGB(25, 25, 28),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			createInstance("UICorner", {
				Parent = toggle,
				CornerRadius = UDim.new(0, 5)
			})
			
			createInstance("TextLabel", {
				Position = UDim2.new(0.273, 0, 0, 0),
				Size = UDim2.new(0, 200, 0, 36),
				Parent = frame,
				BackgroundTransparency = 1,
				Font = Enum.Font.GothamMedium,
				Text = name,
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local isToggled = default
			toggle.MouseButton1Click:Connect(function()
				isToggled = not isToggled
				local newColor = isToggled and Color3.fromRGB(69, 94, 255) or Color3.fromRGB(25, 25, 28)
				createTween(toggle, {BackgroundColor3 = newColor}, 0.2):Play()
				callback(isToggled)
			end)
			
			return {
				Set = function(value)
					isToggled = value
					local newColor = isToggled and Color3.fromRGB(69, 94, 255) or Color3.fromRGB(25, 25, 28)
					toggle.BackgroundColor3 = newColor
					callback(isToggled)
				end
			}
		end
		
		function Card:AddSlider(options)
			local name = options.Name or "Slider"
			local min = options.Min or 0
			local max = options.Max or 100
			local default = options.Default or 50
			local callback = options.Callback or function() end
			
			local frame = createInstance("Frame", {
				Name = "Slider",
				Size = UDim2.new(0, 300, 0, 60),
				Parent = mainHolder,
				BackgroundTransparency = 1,
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local title = createInstance("TextLabel", {
				Position = UDim2.new(0.031, 0, 0, 0),
				Size = UDim2.new(0, 163, 0, 26),
				Parent = frame,
				BackgroundTransparency = 1,
				Font = Enum.Font.GothamMedium,
				Text = name,
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local valueBox = createInstance("TextBox", {
				Position = UDim2.new(0.7, 0, 0, 0),
				Size = UDim2.new(0, 72, 0, 24),
				Parent = frame,
				BackgroundTransparency = 1,
				Font = Enum.Font.Gotham,
				Text = tostring(default),
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Center,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local holderBar = createInstance("Frame", {
				Position = UDim2.new(0.028, 0, 0.6, 0),
				Size = UDim2.new(0, 270, 0, 10),
				Parent = frame,
				BackgroundColor3 = Color3.fromRGB(25, 25, 28),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			createInstance("UICorner", {
				Parent = holderBar,
				CornerRadius = UDim.new(0, 5)
			})
			
			local fillBar = createInstance("Frame", {
				Position = UDim2.new(0, 0, 0, 0),
				Size = UDim2.new((default - min) / (max - min), 0, 1, 0),
				Parent = holderBar,
				BackgroundColor3 = Color3.fromRGB(69, 94, 255),
				BorderSizePixel = 0,
				ZIndex = 3
			})
			
			createInstance("UICorner", {
				Parent = fillBar,
				CornerRadius = UDim.new(0, 5)
			})
			
			local dragger = createInstance("TextButton", {
				Position = UDim2.new((default - min) / (max - min), -7, 0.5, -11),
				Size = UDim2.new(0, 14, 0, 22),
				AnchorPoint = Vector2.new(0.5, 0.5),
				Parent = holderBar,
				Text = '',
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 4
			})
			
			createInstance("UICorner", {
				Parent = dragger,
				CornerRadius = UDim.new(0, 5)
			})
			
			local currentValue = default
			local dragging = false
			
			dragger.MouseButton1Down:Connect(function()
				dragging = true
			end)
			
			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then
					dragging = false
				end
			end)
			
			UserInputService.InputChanged:Connect(function(input)
				if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
					local mousePos = UserInputService:GetMouseLocation()
					local relativePos = math.clamp((mousePos.X - holderBar.AbsolutePosition.X) / holderBar.AbsoluteSize.X, 0, 1)
					
					currentValue = math.floor(min + (max - min) * relativePos)
					valueBox.Text = tostring(currentValue)
					
					dragger.Position = UDim2.new(relativePos, 0, 0.5, 0)
					fillBar.Size = UDim2.new(relativePos, 0, 1, 0)
					
					callback(currentValue)
				end
			end)
			
			valueBox.FocusLost:Connect(function()
				local newVal = tonumber(valueBox.Text)
				if newVal then
					newVal = math.clamp(newVal, min, max)
					currentValue = newVal
					valueBox.Text = tostring(newVal)
					local relativePos = (newVal - min) / (max - min)
					dragger.Position = UDim2.new(relativePos, 0, 0.5, 0)
					fillBar.Size = UDim2.new(relativePos, 0, 1, 0)
					callback(newVal)
				else
					valueBox.Text = tostring(currentValue)
				end
			end)
			
			return {
				Set = function(value)
					value = math.clamp(value, min, max)
					currentValue = value
					valueBox.Text = tostring(value)
					local relativePos = (value - min) / (max - min)
					dragger.Position = UDim2.new(relativePos, 0, 0.5, 0)
					fillBar.Size = UDim2.new(relativePos, 0, 1, 0)
					callback(value)
				end
			}
		end
		
		function Card:AddDropdown(options)
			local name = options.Name or "Dropdown"
			local list = options.List or {}
			local default = options.Default or list[1] or ""
			local callback = options.Callback or function() end
			
			local frame = createInstance("Frame", {
				Name = "Dropdown",
				Size = UDim2.new(0, 280, 0, 32),
				Parent = mainHolder,
				BackgroundColor3 = Color3.fromRGB(25, 25, 28),
				BorderSizePixel = 0,
				ZIndex = 5
			})
			
			createInstance("UICorner", {
				Parent = frame,
				CornerRadius = UDim.new(0, 4)
			})
			
			local button = createInstance("TextButton", {
				Position = UDim2.new(0.032, 0, 0.119, 0),
				Size = UDim2.new(0, 270, 0, 23),
				Parent = frame,
				BackgroundTransparency = 1,
				Font = Enum.Font.GothamMedium,
				Text = default,
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 6
			})
			
			local arrow = createInstance("ImageLabel", {
				Position = UDim2.new(0.85, 0, 0.2, 0),
				Size = UDim2.new(0, 20, 0, 20),
				Parent = button,
				BackgroundTransparency = 1,
				Image = "rbxassetid://134116754541554",
				ZIndex = 6
			})
			
			local dropContent = createInstance("Frame", {
				Position = UDim2.new(0, 0, 1.1, 0),
				Size = UDim2.new(1, 0, 0, 0),
				Parent = frame,
				BackgroundColor3 = Color3.fromRGB(25, 25, 28),
				ClipsDescendants = true,
				BorderSizePixel = 0,
				ZIndex = 7
			})
			
			createInstance("UICorner", {
				Parent = dropContent,
				CornerRadius = UDim.new(0, 4)
			})
			
			local listLayout = createInstance("UIListLayout", {
				Parent = dropContent,
				Padding = UDim.new(0, 5),
				FillDirection = Enum.FillDirection.Vertical,
				HorizontalAlignment = Enum.HorizontalAlignment.Center,
				VerticalAlignment = Enum.VerticalAlignment.Top,
				SortOrder = Enum.SortOrder.LayoutOrder
			})
			
			createInstance("UIPadding", {
				Parent = dropContent,
				PaddingTop = UDim.new(0, 5),
				PaddingBottom = UDim.new(0, 5)
			})
			
			for _, option in ipairs(list) do
				local optionBtn = createInstance("TextButton", {
					Size = UDim2.new(0.9, 0, 0, 26),
					Parent = dropContent,
					BackgroundTransparency = 1,
					Font = Enum.Font.Gotham,
					Text = option,
					TextSize = 13,
					TextXAlignment = Enum.TextXAlignment.Center,
					TextColor3 = Color3.fromRGB(255, 255, 255),
					BorderSizePixel = 0,
					ZIndex = 8
				})
				
				createInstance("UICorner", {
					Parent = optionBtn,
					CornerRadius = UDim.new(0, 3)
				})
				
				optionBtn.MouseEnter:Connect(function()
					createTween(optionBtn, {BackgroundTransparency = 0.9, BackgroundColor3 = Color3.fromRGB(69, 94, 255)}, 0.2):Play()
				end)
				
				optionBtn.MouseLeave:Connect(function()
					createTween(optionBtn, {BackgroundTransparency = 1}, 0.2):Play()
				end)
				
				optionBtn.MouseButton1Click:Connect(function()
					button.Text = option
					createTween(dropContent, {Size = UDim2.new(1, 0, 0, 0)}, 0.3):Play()
					createTween(arrow, {Rotation = 0}, 0.3):Play()
					callback(option)
				end)
			end
			
			local isOpen = false
			button.MouseButton1Click:Connect(function()
				isOpen = not isOpen
				if isOpen then
					local contentHeight = #list * 31 + 10
					createTween(dropContent, {Size = UDim2.new(1, 0, 0, contentHeight)}, 0.3):Play()
					createTween(arrow, {Rotation = 180}, 0.3):Play()
				else
					createTween(dropContent, {Size = UDim2.new(1, 0, 0, 0)}, 0.3):Play()
					createTween(arrow, {Rotation = 0}, 0.3):Play()
				end
			end)
			
			return {
				Set = function(value)
					button.Text = value
					callback(value)
				end,
				Refresh = function(newList)
					for _, child in pairs(dropContent:GetChildren()) do
						if child:IsA("TextButton") then
							child:Destroy()
						end
					end
					
					for _, option in ipairs(newList) do
						local optionBtn = createInstance("TextButton", {
							Size = UDim2.new(0.9, 0, 0, 26),
							Parent = dropContent,
							BackgroundTransparency = 1,
							Font = Enum.Font.Gotham,
							Text = option,
							TextSize = 13,
							TextXAlignment = Enum.TextXAlignment.Center,
							TextColor3 = Color3.fromRGB(255, 255, 255),
							BorderSizePixel = 0,
							ZIndex = 8
						})
						
						createInstance("UICorner", {
							Parent = optionBtn,
							CornerRadius = UDim.new(0, 3)
						})
						
						optionBtn.MouseButton1Click:Connect(function()
							button.Text = option
							createTween(dropContent, {Size = UDim2.new(1, 0, 0, 0)}, 0.3):Play()
							createTween(arrow, {Rotation = 0}, 0.3):Play()
							callback(option)
						end)
					end
				end
			}
		end
		
		function Card:AddColorPicker(options)
			local name = options.Name or "Color Picker"
			local default = options.Default or Color3.fromRGB(255, 0, 0)
			local callback = options.Callback or function() end
			
			local frame = createInstance("Frame", {
				Name = "ColorPicker",
				Size = UDim2.new(0, 227, 0, 36),
				Parent = mainHolder,
				BackgroundTransparency = 1,
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			local colorButton = createInstance("TextButton", {
				Position = UDim2.new(0.086, 0, 0.139, 0),
				Size = UDim2.new(0, 25, 0, 25),
				Parent = frame,
				Text = '',
				BackgroundColor3 = default,
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			createInstance("UICorner", {
				Parent = colorButton,
				CornerRadius = UDim.new(0, 5)
			})
			
			createInstance("TextLabel", {
				Position = UDim2.new(0.273, 0, 0, 0),
				Size = UDim2.new(0, 161, 0, 36),
				Parent = frame,
				BackgroundTransparency = 1,
				Font = Enum.Font.GothamMedium,
				Text = name,
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			colorButton.MouseButton1Click:Connect(function()
				ColorPickerFrame.Visible = not ColorPickerFrame.Visible
				
				currentCallback = function(color)
					colorButton.BackgroundColor3 = color
					callback(color)
				end
				
				-- Set initial color
				local h, s, v = default:ToHSV()
				currentHue = h * 360
				currentSat = s
				currentVal = v
				
				HueDragger.Position = UDim2.new(h, 0, 0.5, 0)
				ColorSelector.Position = UDim2.new(s, 0, 1 - v, 0)
				
				local hueColor = Color3.fromHSV(h, 1, 1)
				Colorview.BackgroundColor3 = hueColor
			end)
			
			return {
				Set = function(color)
					colorButton.BackgroundColor3 = color
					callback(color)
				end
			}
		end
		
		function Card:AddButton(options)
			local name = options.Name or "Button"
			local callback = options.Callback or function() end
			
			local button = createInstance("TextButton", {
				Size = UDim2.new(0, 280, 0, 36),
				Parent = mainHolder,
				BackgroundColor3 = Color3.fromRGB(69, 94, 255),
				Font = Enum.Font.GothamMedium,
				Text = name,
				TextSize = 14,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				BorderSizePixel = 0,
				ZIndex = 1
			})
			
			createInstance("UICorner", {
				Parent = button,
				CornerRadius = UDim.new(0, 5)
			})
			
			button.MouseEnter:Connect(function()
				createTween(button, {BackgroundColor3 = Color3.fromRGB(89, 114, 255)}, 0.2):Play()
			end)
			
			button.MouseLeave:Connect(function()
				createTween(button, {BackgroundColor3 = Color3.fromRGB(69, 94, 255)}, 0.2):Play()
			end)
			
			button.MouseButton1Click:Connect(function()
				createTween(button, {Size = UDim2.new(0, 275, 0, 34)}, 0.1):Play()
				task.wait(0.1)
				createTween(button, {Size = UDim2.new(0, 280, 0, 36)}, 0.1):Play()
				callback()
			end)
		end
		
		table.insert(Tab.Cards, Card)
		return Card
	end
	
	return Tab
end

return Library
